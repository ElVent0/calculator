var $parcel$global="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},$parcel$modules={},$parcel$inits={},parcelRequire=$parcel$global.parcelRequireff1f;null==parcelRequire&&(parcelRequire=function(r){if(r in $parcel$modules)return $parcel$modules[r].exports;if(r in $parcel$inits){var t=$parcel$inits[r];delete $parcel$inits[r];var n={id:r,exports:{}};return $parcel$modules[r]=n,t.call(n.exports,n,n.exports),n.exports}var i=new Error("Cannot find module '"+r+"'");throw i.code="MODULE_NOT_FOUND",i},parcelRequire.register=function(r,t){$parcel$inits[r]=t},$parcel$global.parcelRequireff1f=parcelRequire),parcelRequire.register("2Fivl",(function(module,exports){const listEl=document.querySelector('[data-info="list"]'),inputEl=document.querySelector('[data-info="input"]'),historyEl=document.querySelector(".history__list");let inputValue="";const inputArray=[];function onInput(r){isCorrectInput(r),"."===r&&checkDots(),"factorial"===r&&checkFactorial(),inputValue=inputArray.join(""),inputEl.value=inputValue}function onSolve(){if(""===inputValue)return;checkZeros();const result=eval(inputValue);inputEl.value=result,setTimeout(renderHistory(result),1e3),inputValue="",inputArray.splice(0,inputArray.length),inputArray.push(result);let resultString=`${result}`,resultArray=resultString.split("");inputArray.pop(),resultArray.map((r=>{inputArray.push(r)}))}function isCorrectInput(r){if(1===inputArray.length&&(" * "===inputArray[0]||" / "===inputArray[0]||"% "===inputArray[0]||") "===inputArray[0]||"! "===inputArray[0]||"^2 "===inputArray[0])||"."===inputArray[0])return inputArray.pop(),void alert("Це не може бути першим символом");if(" + "!==r&&" - "!==r&&" * "!==r&&" / "!==r||" + "!==inputArray[inputArray.length-2]&&" - "!==inputArray[inputArray.length-2]&&" * "!==inputArray[inputArray.length-2]&&" / "!==inputArray[inputArray.length-2]){if("."!==r||"."!==inputArray[inputArray.length-2]){if("0"===r&&" / "===inputArray[inputArray.length-2])return inputArray.pop(),void alert("На нуль не ділимо");if(" ( "===r&&("1"===inputArray[inputArray.length-2]||"2"===inputArray[inputArray.length-2]||"3"===inputArray[inputArray.length-2]||"4"===inputArray[inputArray.length-2]||"5"===inputArray[inputArray.length-2]||"6"===inputArray[inputArray.length-2]||"7"===inputArray[inputArray.length-2]||"8"===inputArray[inputArray.length-2]||"9"===inputArray[inputArray.length-2]||"0"===inputArray[inputArray.length-2]))return inputArray.pop(),inputArray.push(" * "),void inputArray.push("(");if(" ( "===r&&(" + "===inputArray[inputArray.length-2]||" - "===inputArray[inputArray.length-2]||" * "===inputArray[inputArray.length-2]||" / "===inputArray[inputArray.length-2]||"+ "===inputArray[inputArray.length-2]||"- "===inputArray[inputArray.length-2]||"* "===inputArray[inputArray.length-2]||"/ "===inputArray[inputArray.length-2])){const r=inputArray[inputArray.length-2];return inputArray.pop(),inputArray.pop(),inputArray.push(""),inputArray.push(r),void inputArray.push("(")}if(") "===inputArray[inputArray.length-2]&&("1"===inputArray[inputArray.length-1]||"2"===inputArray[inputArray.length-1]||"3"===inputArray[inputArray.length-1]||"4"===inputArray[inputArray.length-1]||"5"===inputArray[inputArray.length-1]||"6"===inputArray[inputArray.length-1]||"7"===inputArray[inputArray.length-1]||"8"===inputArray[inputArray.length-1]||"9"===inputArray[inputArray.length-1]||"0"===inputArray[inputArray.length-1])){const r=inputArray[inputArray.length-1];return inputArray.pop(),inputArray.push("*"),inputArray.push(" "),void inputArray.push(r)}if(") "===inputArray[inputArray.length-2]&&(" + "===inputArray[inputArray.length-1]||" - "===inputArray[inputArray.length-1]||" * "===inputArray[inputArray.length-1]||" / "===inputArray[inputArray.length-1]||"+ "===inputArray[inputArray.length-1]||"- "===inputArray[inputArray.length-1]||"* "===inputArray[inputArray.length-1]||"/ "===inputArray[inputArray.length-1])){const r=inputArray[inputArray.length-1];return inputArray.pop(),inputArray.pop(),inputArray.push(")"),void inputArray.push(r)}return") "===inputArray[inputArray.length-2]&&" ("===inputArray[inputArray.length-1]?(inputArray.pop(),inputArray.push("*"),void inputArray.push(" (")):void 0}inputArray.pop()}else inputArray.pop()}function checkZeros(){const r=inputValue.split(" "),t=[];r.map((r=>{const n=r.split("");if(1!==n.length)for(;0===n.indexOf("0");)n.shift();t.push(n.join(""))})),inputValue=t.join(" ")}function checkDots(){inputValue.split(" ").map((r=>{r.split("").includes(".")&&inputArray.pop()}))}function checkFactorial(){inputValue.split(" ").map((r=>{const t=r.split(""),n=t.length+2,i=Number(r);let p=1;for(let r=1;r<i+1;r+=1)p*=r;let u=p.toString().split("");for(;0!==t.length;)t.pop();for(let r=1;r<n;r+=1)inputArray.pop();for(let r of u)inputArray.push(r);p=1,t.includes(".")&&inputArray.pop()}))}function renderHistory(r){10===historyEl.children.length&&historyEl.removeChild(historyEl.lastElementChild);const t=`<li class="history__item"><span class="opacity">${inputValue}</span>&nbsp&nbsp = &nbsp&nbsp<b>${r}</b></li>`;historyEl.insertAdjacentHTML("afterbegin",t);document.querySelector(".history__item").classList.add("animate")}listEl.addEventListener("click",(r=>{const t=r.target.dataset.info;if("="!==t){if("+"===t||"-"===t||"*"===t||"/"===t)return inputArray.push(` ${t} `),void onInput(` ${t} `);if("%"===t||")"===t||"^2"===t||"!"===t)return inputArray.push(`${t} `),void onInput(`${t} `);if("("===t)return inputArray.push(` ${t}`),void onInput(` ${t} `);if("."===t||"0"===t)return inputArray.push(t),void onInput(t);if("AC"===t)return"."===inputArray[inputArray.length-2]?(inputArray.pop(),inputArray.pop(),void onInput()):(inputArray.pop(),void onInput());if("clearInput"!==t){if("list"!==t&&"input"!==t){if("pi"===t)return inputArray.push("3.1415"),void onInput();if("x^2"===t){const r=Number(inputArray[inputArray.length-1]);return inputArray.pop(),inputArray.push(`Math.pow(${r}, 2)`),void onInput()}if("sqrt"===t){const r=Number(inputArray[inputArray.length-1]);return inputArray.pop(),inputArray.push(`Math.sqrt(${r}, 2)`),void onInput()}if("factorial"===t)return inputArray.push("!"),void onInput(t);"clearHistory"!==t?(inputArray.push(t),onInput()):historyEl.innerHTML=""}}else{for(;0!==inputArray.length;)inputArray.pop();onInput()}}else onSolve()}))})),parcelRequire("2Fivl");
//# sourceMappingURL=index.49d76577.js.map
